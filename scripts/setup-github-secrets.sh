#!/bin/bash

# Script to help set up GitHub secrets for the AI Forecasting Bot
# This script provides instructions for setting up secrets in GitHub

echo "üîê GitHub Secrets Setup for AI Forecasting Bot"
echo "=============================================="
echo ""

echo "STEP-BY-STEP SETUP INSTRUCTIONS:"
echo "1. Go to your GitHub repository"
echo "2. Navigate to: Settings ‚Üí Secrets and variables ‚Üí Actions"
echo "3. Click 'New repository secret' for each required secret below"
echo "4. Copy the exact secret name and paste your API key value"
echo ""

echo "üìã REQUIRED SECRETS (must be configured for tournament compliance):"
echo "-------------------------------------------------------------------"
echo "Secret Name: METACULUS_TOKEN"
echo "Description: Your Metaculus API token for accessing tournaments"
echo "How to get: Log into Metaculus ‚Üí Settings ‚Üí API ‚Üí Generate Token"
echo "Value: [Paste your actual Metaculus token here]"
echo ""
echo "Secret Name: OPENROUTER_API_KEY"
echo "Description: Your OpenRouter API key for LLM access"
echo "How to get: Visit https://openrouter.ai ‚Üí Sign up ‚Üí API Keys"
echo "Value: [Paste your actual OpenRouter API key here]"
echo ""

echo "üìã OPTIONAL SECRETS (will use fallback if not configured):"
echo "---------------------------------------------------------"
echo "Secret Name: PERPLEXITY_API_KEY"
echo "Description: For enhanced search capabilities"
echo "How to get: Visit https://www.perplexity.ai ‚Üí API ‚Üí Get API Key"
echo ""
echo "Secret Name: EXA_API_KEY"
echo "Description: For web search functionality"
echo "How to get: Visit https://exa.ai ‚Üí Sign up ‚Üí API Keys"
echo ""
echo "Secret Name: OPENAI_API_KEY"
echo "Description: For OpenAI GPT models"
echo "How to get: Visit https://platform.openai.com ‚Üí API Keys"
echo ""
echo "Secret Name: ANTHROPIC_API_KEY"
echo "Description: For Claude models"
echo "How to get: Visit https://console.anthropic.com ‚Üí API Keys"
echo ""
echo "Secret Name: ASKNEWS_CLIENT_ID"
echo "Description: For news search functionality"
echo "How to get: Visit https://asknews.app ‚Üí API ‚Üí Client Credentials"
echo ""
echo "Secret Name: ASKNEWS_SECRET"
echo "Description: For news search functionality"
echo "How to get: Visit https://asknews.app ‚Üí API ‚Üí Client Credentials"
echo ""

echo "‚úÖ SETUP VERIFICATION:"
echo "---------------------"
echo "After setting up the secrets, you can test the workflows by:"
echo "1. Going to Actions tab in your GitHub repository"
echo "2. Selecting 'Forecast on new AI tournament questions' or 'Forecast on Quarterly Cup'"
echo "3. Clicking 'Run workflow' to test manually"
echo ""

echo "üîÑ AUTOMATIC SCHEDULING:"
echo "------------------------"
echo "‚Ä¢ Tournament forecasting: Every 4 hours (optimized for budget efficiency)"
echo "‚Ä¢ Deadline-aware scheduling: Available for critical periods"
echo "‚Ä¢ Manual runs: Available through workflow dispatch"
echo ""

echo "‚ö†Ô∏è  IMPORTANT NOTES:"
echo "-------------------"
echo "‚Ä¢ Never commit API keys to the repository"
echo "‚Ä¢ The .env file is already in .gitignore"
echo "‚Ä¢ Optional services will use fallback/dummy values if not configured"
echo "‚Ä¢ You can add more API keys later as you get credits for other services"
echo ""

echo "üìä OPTIONAL REPOSITORY VARIABLES (for scheduling customization):"
echo "----------------------------------------------------------------"
echo "Go to: Settings ‚Üí Secrets and variables ‚Üí Actions ‚Üí Variables tab"
echo ""
echo "Variable Name: SCHEDULING_FREQUENCY_HOURS"
echo "Description: Default scheduling frequency in hours"
echo "Default: 4"
echo "Example values: 2, 4, 6, 8"
echo ""
echo "Variable Name: DEADLINE_AWARE_SCHEDULING"
echo "Description: Enable deadline-aware scheduling"
echo "Default: true"
echo "Values: true, false"
echo ""
echo "Variable Name: CRITICAL_PERIOD_FREQUENCY_HOURS"
echo "Description: Frequency during critical periods"
echo "Default: 2"
echo "Example values: 1, 2, 3"
echo ""
echo "Variable Name: FINAL_24H_FREQUENCY_HOURS"
echo "Description: Frequency in final 24 hours before deadline"
echo "Default: 1"
echo "Example values: 1, 2"
echo ""
echo "Variable Name: TOURNAMENT_SCOPE"
echo "Description: Tournament operation scope"
echo "Default: seasonal"
echo "Values: seasonal, daily"
echo ""

echo "üöÄ Ready to go! Your workflows are now enabled and will use the configured secrets."
